CREATE TABLE buy.provider(
    id SERIAL,
    name_provider TEXT NOT NULL,
    phone VARCHAR(20) NOT NULL,
    email VARCHAR(100) NULL,
    address TEXT NULL,
	CONSTRAINT pk_provider PRIMARY KEY (id)
);

CREATE TABLE buy.detail_buy(
    id SERIAL,
    quantity INTEGER NOT NULL CHECK (quantity > 0),
    price DECIMAL(10,2) NOT NULL CHECK (price > 0),
    type_detail_buy TEXT NULL,
    id_item INTEGER NOT NULL,
	CONSTRAINT pk_detail_buy PRIMARY KEY (id),
    CONSTRAINT fk_buy_item FOREIGN KEY (id_item) REFERENCES store.item(id)
);
CREATE INDEX idx_detail_buy_id_item ON buy.detail_buy(id_item);

INSERT INTO buy.detail_buy (quantity, price, type_detail_buy, id_item) VALUES
-- Primeros 10 registros (ejemplo variado)
(10, 899.99, 'Compra mayorista', 1),
(5, 1299.99, 'Compra regular', 2),
(20, 299.99, 'Compra al por mayor', 3),
(15, 499.99, 'Compra estacional', 4),
(8, 799.99, 'Compra promocional', 5),
(25, 199.99, 'Compra mayorista', 6),
(12, 349.99, 'Compra regular', 7),
(30, 99.99, 'Compra al por mayor', 8),
(7, 1199.99, 'Compra estacional', 9),
(18, 249.99, 'Compra promocional', 10),

-- Continuación hasta 60 registros
(6, 899.99, 'Compra mayorista', 11),
(14, 1299.99, 'Compra regular', 12),
(22, 299.99, 'Compra al por mayor', 13),
(9, 499.99, 'Compra estacional', 14),
(17, 799.99, 'Compra promocional', 15),
(4, 199.99, 'Compra mayorista', 16),
(11, 349.99, 'Compra regular', 17),
(28, 99.99, 'Compra al por mayor', 18),
(3, 1199.99, 'Compra estacional', 19),
(16, 249.99, 'Compra promocional', 20),
(5, 899.99, 'Compra mayorista', 21),
(13, 1299.99, 'Compra regular', 22),
(21, 299.99, 'Compra al por mayor', 23),
(8, 499.99, 'Compra estacional', 24),
(19, 799.99, 'Compra promocional', 25),
(2, 199.99, 'Compra mayorista', 26),
(10, 349.99, 'Compra regular', 27),
(27, 99.99, 'Compra al por mayor', 28),
(1, 1199.99, 'Compra estacional', 29),
(15, 249.99, 'Compra promocional', 30),
(7, 899.99, 'Compra mayorista', 31),
(12, 1299.99, 'Compra regular', 32),
(23, 299.99, 'Compra al por mayor', 33),
(6, 499.99, 'Compra estacional', 34),
(20, 799.99, 'Compra promocional', 35),
(3, 199.99, 'Compra mayorista', 36),
(9, 349.99, 'Compra regular', 37),
(26, 99.99, 'Compra al por mayor', 38),
(4, 1199.99, 'Compra estacional', 39),
(14, 249.99, 'Compra promocional', 40),
(8, 899.99, 'Compra mayorista', 41),
(11, 1299.99, 'Compra regular', 42),
(24, 299.99, 'Compra al por mayor', 43),
(5, 499.99, 'Compra estacional', 44),
(18, 799.99, 'Compra promocional', 45),
(1, 199.99, 'Compra mayorista', 46),
(7, 349.99, 'Compra regular', 47),
(25, 99.99, 'Compra al por mayor', 48),
(2, 1199.99, 'Compra estacional', 49),
(13, 249.99, 'Compra promocional', 50);

CREATE TABLE buy.buy(
    id SERIAL,
    date_buy TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    id_provider INTEGER NOT NULL,
    id_user INTEGER NOT NULL,
    id_detail_buy INTEGER NOT NULL,
    total DECIMAL(12,2) NOT NULL CHECK (total >= 0),
    payment_status VARCHAR(20) NULL,
	CONSTRAINT pk_buy PRIMARY KEY (id),
    CONSTRAINT fk_buy_provider FOREIGN KEY (id_provider) REFERENCES buy.provider(id),
    CONSTRAINT fk_usuari_user FOREIGN KEY (id_user) REFERENCES usuari.user(id),
    CONSTRAINT fk_buy_detail_buy FOREIGN KEY (id_detail_buy) REFERENCES buy.detail_buy(id)
);
CREATE INDEX idx_buy_id_provider ON buy.buy(id_provider);  
INSERT INTO buy.buy (id_user, id_detail_buy, id_provider, date_buy, total) VALUES
-- Primeras 10 compras (ejemplo)
(1, 1, 1, '2023-01-05', 8999.90),
(2, 2, 2, '2023-01-10', 6499.95),
(3, 3, 3, '2023-01-15', 5999.80),
(4, 4, 4, '2023-01-20', 7499.85),
(5, 5, 5, '2023-01-25', 6399.92),
(6, 6, 6, '2023-02-01', 4999.75),
(7, 7, 7, '2023-02-05', 4199.88),
(8, 8, 8, '2023-02-10', 2999.70),
(9, 9, 9, '2023-02-15', 8399.93),
(10, 10, 10, '2023-02-20', 4499.82),

-- Continuación hasta 60 registros
(11, 11, 11, '2023-02-25', 5399.94),
(12, 12, 12, '2023-03-01', 18199.86),
(13, 13, 13, '2023-03-05', 6599.77),
(14, 14, 14, '2023-03-10', 3999.96),
(15, 15, 15, '2023-03-15', 14399.80),
(16, 16, 16, '2023-03-20', 399.98),
(17, 17, 17, '2023-03-25', 3849.89),
(18, 18, 18, '2023-04-01', 2699.72),
(19, 19, 19, '2023-04-05', 1199.99),
(20, 20, 20, '2023-04-10', 3749.85),
(21, 21, 1, '2023-04-15', 6299.93),
(22, 22, 2, '2023-04-20', 16899.87),
(23, 23, 3, '2023-04-25', 6899.79),
(24, 24, 4, '2023-05-01', 3999.96),
(25, 25, 5, '2023-05-05', 15999.80),
(26, 26, 6, '2023-05-10', 399.98),
(27, 27, 7, '2023-05-15', 3149.89),
(28, 28, 8, '2023-05-20', 2699.72),
(29, 29, 9, '2023-05-25', 1199.99),
(30, 30, 10, '2023-06-01', 3749.85),
(31, 31, 11, '2023-06-05', 6299.93),
(32, 32, 12, '2023-06-10', 16899.87),
(33, 33, 13, '2023-06-15', 6899.79),
(34, 34, 14, '2023-06-20', 2999.94),
(35, 35, 15, '2023-06-25', 15999.80),
(36, 36, 16, '2023-07-01', 199.99),
(37, 37, 17, '2023-07-05', 2449.93),
(38, 38, 18, '2023-07-10', 2699.72),
(39, 39, 19, '2023-07-15', 4799.96),
(40, 40, 20, '2023-07-20', 3249.87),
(1, 41, 1, '2023-07-25', 7199.93),
(2, 42, 2, '2023-08-01', 14299.89),
(3, 43, 3, '2023-08-05', 6899.77),
(4, 44, 4, '2023-08-10', 2499.95),
(5, 45, 5, '2023-08-15', 14399.80),
(6, 46, 6, '2023-08-20', 199.99),
(7, 47, 7, '2023-08-25', 2449.93),
(8, 48, 8, '2023-09-01', 2499.74),
(9, 49, 9, '2023-09-05', 2399.98),
(10, 50, 10, '2023-09-10', 3249.87);



select *from buy.provider
INSERT INTO buy.provider (name_provider, phone, email, address) VALUES
('TecnoSuministros S.A.', '555-100-2000', 'ventas@tecnosuministros.com', 'Av. Tecnológica 123, Ciudad Industrial'),
('ElectroParts México', '555-100-2001', 'contacto@electroparts.mx', 'Calle Circuito 45, Parque Industrial Norte'),
('Distribuidora de Componentes', '555-100-2002', 'info@distribuidora-componentes.com', 'Blvd. Manufactura 678, Zona Industrial'),
('Suministros Globales', '555-100-2003', 'ventas@suministrosglobales.com', 'Calle Proveeduría 90, Col. Industrial'),
('Tecnología Avanzada S.A.', '555-100-2004', 'contacto@tecavanzada.com', 'Av. Innovación 1500, Polígono Industrial'),
('Electrónica Integral', '555-100-2005', 'pedidos@electronica-integral.mx', 'Calle Resistencia 33, Zona Industrial'),
('Componentes y Más', '555-100-2006', 'info@componentesymas.com', 'Av. Transistores 456, Parque Tecnológico'),
('Suministros Industriales del Norte', '555-100-2007', 'ventas@suministrosnorte.com', 'Blvd. Industrial 789, Zona Fabril'),
('Proveedora Electrónica Nacional', '555-100-2008', 'contacto@provelect.com', 'Calle Diodos 12, Col. Manufacturera'),
('TecnoComponentes S.A. de C.V.', '555-100-2009', 'ventas@tecno-componentes.com', 'Av. Microchips 654, Ciudad Tecnológica'),
('Distribuidora de Circuitos', '555-100-2010', 'info@circuitosdistribuidora.com', 'Calle Placas 78, Parque Industrial'),
('ElectroMateriales Premium', '555-100-2011', 'pedidos@electropremium.mx', 'Blvd. Componentes 321, Zona Industrial'),
('Suministros Técnicos Especializados', '555-100-2012', 'ventas@suministrostecnicos.com', 'Av. Especializada 456, Polígono Industrial'),
('Proveedora de Insumos Electrónicos', '555-100-2013', 'contacto@insumoselectronicos.com', 'Calle Capacitores 90, Col. Industrial'),
('TecnoInsumos Internacional', '555-100-2014', 'info@tecnoinsumos.com', 'Av. Global 1500, Zona de Negocios'),
('Componentes Eléctricos del Centro', '555-100-2015', 'ventas@componentescentral.com', 'Blvd. Eléctrico 654, Parque Industrial'),
('Distribuidora de Hardware', '555-100-2016', 'pedidos@hardwaredist.com', 'Calle Chips 33, Zona Tecnológica'),
('Electrónica y Suministros', '555-100-2017', 'info@electronicaysuministros.com', 'Av. Conductores 789, Col. Industrial'),
('Proveedora Tecnológica Mexicana', '555-100-2018', 'ventas@proveetec.com', 'Blvd. Innovación 1200, Polígono Industrial'),
('Suministros para Manufactura', '555-100-2019', 'contacto@suministrosmanufactura.com', 'Calle Ensamble 45, Zona Fabril'),
('TecnoPartes del Bajío', '555-100-2020', 'info@tecnopartesbajio.com', 'Av. Industrial 987, Ciudad Manufacturera'),
('Componentes Electrónicos Profesionales', '555-100-2021', 'ventas@componentespro.com', 'Blvd. Profesional 654, Parque Industrial'),
('Distribuidora de Insumos Técnicos', '555-100-2022', 'pedidos@insumostecnicos.com', 'Calle Técnica 321, Zona Industrial'),
('ElectroMateriales del Sureste', '555-100-2023', 'info@electrosureste.com', 'Av. Regional 150, Col. Industrial'),
('Proveedora Integral de Componentes', '555-100-2024', 'ventas@proveintegral.com', 'Blvd. Componentes 789, Polígono Industrial'),
('Suministros para Electrónica', '555-100-2025', 'contacto@suministroselec.com', 'Calle Electrónica 33, Zona Tecnológica'),
('TecnoInsumos del Norte', '555-100-2026', 'info@tecnosuministrosnorte.com', 'Av. Industrial Norte 456, Ciudad Fabril'),
('Componentes y Herramientas', '555-100-2027', 'ventas@componherramientas.com', 'Blvd. Herramientas 120, Parque Industrial'),
('Distribuidora de Materiales Eléctricos', '555-100-2028', 'pedidos@matelectricos.com', 'Calle Conductores 654, Zona Industrial'),
('Electrónica Profesional S.A.', '555-100-2029', 'info@electronica-profesional.com', 'Av. Profesional 789, Col. Tecnológica'),
('Proveedora de Componentes Avanzados', '555-100-2030', 'ventas@compavanzados.com', 'Blvd. Avanzado 321, Polígono Industrial'),
('Suministros Técnicos del Pacífico', '555-100-2031', 'contacto@sumitecpacifico.com', 'Calle Pacífico 90, Zona Industrial'),
('TecnoMateriales Especializados', '555-100-2032', 'info@tecnomateriales.com', 'Av. Especializada 1500, Ciudad Industrial'),
('Componentes para Manufactura', '555-100-2033', 'ventas@compmanufactura.com', 'Blvd. Manufactura 654, Parque Fabril'),
('Distribuidora de Insumos Electrónicos', '555-100-2034', 'pedidos@insumoselectronicos.com', 'Calle Electrónica 33, Zona Tecnológica'),
('ElectroSuministros Nacionales', '555-100-2035', 'info@electrosuministros.com', 'Av. Nacional 789, Col. Industrial'),
('Proveedora de Partes Técnicas', '555-100-2036', 'ventas@partestecnicas.com', 'Blvd. Técnico 120, Polígono Industrial'),
('Suministros para la Industria', '555-100-2037', 'contacto@suministrosindustria.com', 'Calle Industrial 456, Zona Fabril'),
('TecnoComponentes del Sur', '555-100-2038', 'info@tecnocomponentessur.com', 'Av. Sur 987, Ciudad Industrial'),
('Componentes y Accesorios', '555-100-2039', 'ventas@compyaccesorios.com', 'Blvd. Accesorios 654, Parque Tecnológico'),
('Distribuidora de Materiales Técnicos', '555-100-2040', 'pedidos@matecnicos.com', 'Calle Técnica 321, Zona Industrial'),
('Electrónica y Componentes', '555-100-2041', 'info@electronicaycomponentes.com', 'Av. Componentes 90, Col. Manufacturera'),
('Proveedora de Suministros Especiales', '555-100-2042', 'ventas@suministrosespeciales.com', 'Blvd. Especial 1500, Polígono Industrial'),
('Suministros Técnicos Integrales', '555-100-2043', 'contacto@sumitecintegral.com', 'Calle Integral 789, Zona Industrial'),
('TecnoInsumos Profesionales', '555-100-2044', 'info@tecnoinsumospro.com', 'Av. Profesional 456, Ciudad Tecnológica'),
('Componentes para Electrónica', '555-100-2045', 'ventas@componelect.com', 'Blvd. Electrónico 120, Parque Industrial'),
('Distribuidora de Herramientas Técnicas', '555-100-2046', 'pedidos@herramientastecnicas.com', 'Calle Técnica 654, Zona Fabril'),
('ElectroMateriales del Centro', '555-100-2047', 'info@electromaterialescentro.com', 'Av. Central 987, Col. Industrial'),
('Proveedora de Componentes Básicos', '555-100-2048', 'ventas@compbasicos.com', 'Blvd. Básico 321, Polígono Industrial'),
('Suministros para la Tecnología', '555-100-2049', 'contacto@suministrostecno.com', 'Calle Tecnológica 90, Zona de Innovación'),
('TecnoPartes y Accesorios', '555-100-2050', 'info@tecnopartes.com', 'Av. Accesorios 1500, Ciudad Industrial'),
('Componentes Industriales S.A.', '555-100-2051', 'ventas@compindustriales.com', 'Blvd. Industrial 789, Parque Fabril'),
('Distribuidora de Suministros Técnicos', '555-100-2052', 'pedidos@suministrostecnicos.com', 'Calle Técnica 456, Zona Industrial'),
('Electrónica y Materiales', '555-100-2053', 'info@electronicaymateriales.com', 'Av. Materiales 120, Col. Manufacturera'),
('Proveedora de Insumos Industriales', '555-100-2054', 'ventas@insumosindustriales.com', 'Blvd. Industrial 654, Polígono Tecnológico'),
('Suministros para Componentes', '555-100-2055', 'contacto@suministroscomponentes.com', 'Calle Componentes 987, Zona Industrial'),
('TecnoMateriales del Norte', '555-100-2056', 'info@tecnomaterialesnorte.com', 'Av. Norte 321, Ciudad Fabril'),
('Componentes y Suministros', '555-100-2057', 'ventas@componysuministros.com', 'Blvd. Suministros 90, Parque Industrial'),
('Distribuidora de Partes Electrónicas', '555-100-2058', 'pedidos@parteselectronicas.com', 'Calle Electrónica 1500, Zona Tecnológica'),
('ElectroInsumos Profesionales', '555-100-2059', 'info@electroinsumospro.com', 'Av. Profesional 789, Col. Industrial');